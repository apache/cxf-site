
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--

    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<html>
  <head>

<link type="text/css" rel="stylesheet" href="/resources/site.css">
<script src='/resources/space.js'></script>

<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta name="keywords" content="business integration, EAI, SOA, Service Oriented Architecture, web services, SOAP, JBI, JMS, WSDL, XML, EDI, Electronic Data Interchange, standards support, integration standards, application integration, middleware, software, solutions, services, CXF, open source">
<meta name="description" content="Apache CXF, Services Framework - Pure XML">


<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shCoreCXF.css">
<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shThemeCXF.css">

<script src='/resources/highlighter/scripts/shCore.js'></script>
<script src='/resources/highlighter/scripts/shBrushBash.js'></script>
<script src='/resources/highlighter/scripts/shBrushJava.js'></script>
<script>
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all();
</script>


    <title>
Apache CXF -- Pure XML
    </title>
  </head>
<body onload="init()">


<table width="100%" cellpadding="0" cellspacing="0">
  <tr>
    <td id="cell-0-0" colspan="2">&nbsp;</td>
    <td id="cell-0-1">&nbsp;</td>
    <td id="cell-0-2" colspan="2">&nbsp;</td>
  </tr>
  <tr>
    <td id="cell-1-0">&nbsp;</td>
    <td id="cell-1-1">&nbsp;</td>
    <td id="cell-1-2">
      <!-- Banner -->
<div class="banner" id="banner"><div><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td align="left" colspan="1" nowrap>
<a shape="rect" href="http://cxf.apache.org/" title="Apache CXF"><span style="font-weight: bold; font-size: 170%; color: white">Apache CXF</span></a>
</td><td align="right" colspan="1" nowrap>
<a shape="rect" href="http://www.apache.org/" title="The Apache Sofware Foundation"><img border="0" alt="ASF Logo" src="http://cxf.apache.org/images/asf-logo.png"></a>
</td></tr></table></div></div>
      <!-- Banner -->
      <div id="top-menu">
        <table border="0" cellpadding="1" cellspacing="0" width="100%">
          <tr>
            <td>
              <div align="left">
                <!-- Breadcrumbs -->
<a href="index.html">Index</a>&nbsp;&gt;&nbsp;<a href="wsdl-bindings.html">WSDL Bindings</a>&nbsp;&gt;&nbsp;<a href="pure-xml.html">Pure XML</a>
                <!-- Breadcrumbs -->
              </div>
            </td>
            <td>
              <div align="right">
                <!-- Quicklinks -->
<div id="quicklinks"><p><a shape="rect" href="http://cxf.apache.org/download.html">Download</a> | <a shape="rect" href="http://cxf.apache.org/docs/index.html">Documentation</a></p></div>
                <!-- Quicklinks -->
              </div>
            </td>
          </tr>
        </table>
      </div>
    </td>
    <td id="cell-1-3">&nbsp;</td>
    <td id="cell-1-4">&nbsp;</td>
  </tr>
  <tr>
    <td id="cell-2-0" colspan="2">&nbsp;</td>
    <td id="cell-2-1">
      <table>
        <tr valign="top">
          <td height="100%">
            <div id="wrapper-menu-page-right">
              <div id="wrapper-menu-page-top">
                <div id="wrapper-menu-page-bottom">
                  <div id="menu-page">
                    <!-- NavigationBar -->
<div id="navigation"><ul class="alternate"><li><a shape="rect" href="overview.html">Overview</a></li><li><a shape="rect" href="how-tos.html">How-Tos</a></li><li><a shape="rect" href="frontends.html">Frontends</a></li><li><a shape="rect" href="databindings.html">DataBindings</a></li><li><a shape="rect" href="transports.html">Transports</a></li><li><a shape="rect" href="configuration.html">Configuration</a></li><li><a shape="rect" href="debugging-and-logging.html">Debugging and Logging</a></li><li><a shape="rect" href="tools.html">Tools</a></li><li><a shape="rect" href="restful-services.html">RESTful Services</a></li><li><a shape="rect" href="wsdl-bindings.html">WSDL Bindings</a></li><li><a shape="rect" href="service-routing.html">Service Routing</a></li><li><a shape="rect" href="dynamic-languages.html">Dynamic Languages</a></li><li><a shape="rect" href="ws-support.html">WS-* Support</a></li><li><a shape="rect" href="advanced-integration.html">Advanced Integration</a></li><li><a shape="rect" href="deployment.html">Deployment</a></li><li><a shape="rect" href="schemas-and-namespaces.html">Use of Schemas and Namespaces</a></li></ul><hr><ul class="alternate"><li><p>Search</p></li></ul><form enctype="application/x-www-form-urlencoded" method="get" id="cse-search-box" action="http://www.google.com/cse">
  <div>
    <input type="hidden" name="cx" value="002890367768291051730:o99qiwa09y4">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="q" size="21">
    <input type="submit" name="sa" value="Search">
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script><hr><ul class="alternate"><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest/">API 3.2.x (Javadoc)</a></li><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest-3.1.x/">API 3.1.x (Javadoc)</a></li><li><a shape="rect" href="http://cxf.apache.org/">CXF Website</a></li></ul><p>&#160;</p><p><a shape="rect" class="external-link" href="http://www.apache.org/events/current-event.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="http://www.apache.org/events/current-event-125x125.png" data-image-src="http://www.apache.org/events/current-event-125x125.png"></span></a></p></div>
                    <!-- NavigationBar -->
                  </div>
              </div>
            </div>
          </div>
         </td>
         <td height="100%">
           <!-- Content -->
           <div class="wiki-content">
<div id="ConfluenceContent"><h2 id="PureXML-XMLBindingNamespace">XML Binding Namespace</h2>

<p>The extensions used to describe XML format bindings are defined in the namespace <a shape="rect" href="http://cxf.apache.org/bindings/xformat">http://cxf.apache.org/bindings/xformat</a>. CXF tools use the prefix <code>xformat</code> to represent the XML binding extensions. Add the following line to your contracts:</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
xmlns:xformat="http://cxf.apache.org/bindings/xformat"
</pre>
</div></div>

<h2 id="PureXML-Editing">Editing</h2>

<p>To map an interface to a pure XML payload format do the following:</p>
<ol><li>Add the namespace declaration to include the extensions defining the XML binding.</li><li>Add a standard WSDL <code>binding</code> element to your contract to hold the XML binding, give the binding a unique name, and specify the name of the WSDL <code>portType</code> element that represents the interface being bound.</li><li>Add an <code>xformat:binding</code> child element to the <code>binding</code> element to identify that the messages are being handled as pure XML documents without SOAP envelopes.</li><li>Optionally, set the <code>xformat:binding</code> element's <code>rootNode</code> attribute to a valid QName.</li><li>For each operation defined in the bound interface, add a standard WSDL <code>operation</code> element to hold the binding information for the operation's messages.</li><li>For each operation added to the binding, add the <code>input</code>, <code>output</code>, and <code>fault</code> children elements to represent the messages used by the operation. These elements correspond to the messages defined in the interface definition of the logical operation.</li><li>Optionally add an <code>xformat:body</code> element with a valid <code>rootNode</code> attribute to the added <code>input</code>, <code>output</code>, and <code>fault</code> elements to override the value of <code>rootNode</code> set at the binding level.
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>If any of your messages have no parts, for example the output message for an operation that returns void, you must set the <code>rootNode</code> attribute for the message to ensure that the message written on the wire is a valid, but empty, XML document.</p></div></div></li></ol>


<h2 id="PureXML-XMLMessagesontheWire">XML Messages on the Wire</h2>

<p>When you specify that an interface's messages are to be passed as XML documents, without a SOAP envelope, you must take care to ensure that your messages form valid XML documents when they are written on the wire. You also need to ensure that non-CXF participants that receive the XML documents understand the messages generated by CXF.</p>

<p>A simple way to solve both problems is to use the optional <code>rootNode</code> attribute on either the global <code>xformat:binding</code> element or on the individual message's <code>xformat:body</code> elements. The <code>rootNode</code> attribute specifies the QName for the element that serves as the root node for the XML document generated by CXF. When the <code>rootNode</code> attribute is not set, CXF uses the root element of the message part as the root element when using doc style messages, or an element using the message part name as the root element when using rpc style messages.</p>

<p>For example, if the <code>rootNode</code> attribute is not set the message defined below would generate an XML document with the root element <code>lineNumber</code>.</p>

<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
&lt;type ...&gt;
  ...
  &lt;element name="operatorID" type="xsd:int"/&gt;
  ...
&lt;/types&gt;
&lt;message name="operator"&gt;
  &lt;part name="lineNumber" element="ns1:operatorID"/&gt;
&lt;/message&gt;
</pre>
</div></div>

<p>For messages with one part, CXF will always generate a valid XML document even if the <code>rootNode</code> attribute is not set. However, the message below would generate an invalid XML document.</p>

<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
&lt;types&gt;
  ...
  &lt;element name="pairName" type="xsd:string"/&gt;
  &lt;element name="entryNum" type="xsd:int"/&gt;
  ...
&lt;/types&gt;

&lt;message name="matildas"&gt;
  &lt;part name="dancing" element="ns1:pairName"/&gt;
  &lt;part name="number" element="ns1:entryNum"/&gt;
&lt;/message&gt;
</pre>
</div></div>

<p>Without the <code>rootNode</code> attribute specified in the XML binding, CXF will generate an XML document similar to the one below for the message defined above. The generated XML document is invalid because it has two root elements: <code>pairName</code> and <code>entryNum</code>.</p>

<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
&lt;pairName&gt;
  Fred&amp;Linda
&lt;/pairName&gt;
&lt;entryNum&gt;
  123
&lt;/entryNum&gt;
</pre>
</div></div>

<p>If you set the <code>rootNode</code> attribute, as shown below CXF will wrap the elements in the specified root element. In this example, the <code>rootNode</code> attribute is defined for the entire binding and specifies that the root element will be named entrants.</p>

<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
&lt;portType name="danceParty"&gt;
  &lt;operation name="register"&gt;
    &lt;input message="tns:matildas" name="contestant"/&gt;
  &lt;/operation&gt;
&lt;/portType&gt;

&lt;binding name="matildaXMLBinding" type="tns:dancingMatildas"&gt;
  &lt;xmlformat:binding rootNode="entrants"/&gt;
  &lt;operation name="register"&gt;
    &lt;input name="contestant"/&gt;
    &lt;output name="entered"/&gt;
&lt;/binding&gt;
</pre>
</div></div>

<p>An XML document generated from the input message would be similar to the one shown below. Notice that the XML document now only has one root element.</p>

<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
&lt;entrants&gt;
  &lt;pairName&gt;
    Fred&amp;Linda
  &lt;entryNum&gt;
    123
  &lt;/entryNum&gt;
&lt;/entrants&gt;
</pre>
</div></div>

<h2 id="PureXML-OverridingtheBinding'srootNodeAttributeSetting">Overriding the Binding's <code>rootNode</code> Attribute Setting</h2>

<p>You can also set the <code>rootNode</code> attribute for each individual message, or override the global setting for a particular message, by using the <code>xformat:body</code> element inside of the message binding. For example, if you wanted the output message to have a different root element from the input message, you could override the binding's root element as shown below.</p>

<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
&lt;binding name="matildaXMLBinding" type="tns:dancingMatildas"&gt;
  &lt;xmlformat:binding rootNode="entrants"/&gt;
  &lt;operation name="register"&gt;
    &lt;input name="contestant"/&gt;
    &lt;output name="entered"&gt;
      &lt;xformat:body rootNode="entryStatus"/&gt;
    &lt;/output&gt;
  &lt;/operation&gt;
&lt;/binding&gt;
</pre>
</div></div></div>
           </div>
           <!-- Content -->
         </td>
        </tr>
      </table>
   </td>
   <td id="cell-2-2" colspan="2">&nbsp;</td>
  </tr>
  <tr>
   <td id="cell-3-0">&nbsp;</td>
   <td id="cell-3-1">&nbsp;</td>
   <td id="cell-3-2">
     <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
         <a href="http://cxf.apache.org/privacy-policy.html">Privacy Policy</a> - 
         (<a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=56199">edit page</a>) 
	 (<a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=56199&amp;showComments=true&amp;showCommentArea=true#addcomment">add comment</a>)<br>
	Apache CXF, CXF, Apache, the Apache feather logo are trademarks of The Apache Software Foundation.<br>
        All other marks mentioned may be trademarks or registered trademarks of their respective owners.
       </div>
       <!-- Footer -->
     </div>
   </td>
   <td id="cell-3-3">&nbsp;</td>
   <td id="cell-3-4">&nbsp;</td>
  </tr>
  <tr>
    <td id="cell-4-0" colspan="2">&nbsp;</td>
    <td id="cell-4-1">&nbsp;</td>
    <td id="cell-4-2" colspan="2">&nbsp;</td>
  </tr>
</table>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4458903-1");
pageTracker._trackPageview();
} catch(err) {}</script>

</body>
</html>

