
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--

    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<html>
  <head>

<link type="text/css" rel="stylesheet" href="/resources/site.css">
<script src='/resources/space.js'></script>

<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta name="keywords" content="business integration, EAI, SOA, Service Oriented Architecture, web services, SOAP, JBI, JMS, WSDL, XML, EDI, Electronic Data Interchange, standards support, integration standards, application integration, middleware, software, solutions, services, CXF, open source">
<meta name="description" content="Apache CXF, Services Framework - CXF_Eclipse_Plugin_Instructions">




    <title>
Apache CXF -- CXF_Eclipse_Plugin_Instructions
    </title>
  </head>
<body onload="init()">


<table width="100%" cellpadding="0" cellspacing="0">
  <tr>
    <td id="cell-0-0" colspan="2">&nbsp;</td>
    <td id="cell-0-1">&nbsp;</td>
    <td id="cell-0-2" colspan="2">&nbsp;</td>
  </tr>
  <tr>
    <td id="cell-1-0">&nbsp;</td>
    <td id="cell-1-1">&nbsp;</td>
    <td id="cell-1-2">
      <!-- Banner -->
<div class="banner" id="banner"><div><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td align="left" colspan="1" nowrap>
<a shape="rect" href="http://cxf.apache.org/" title="Apache CXF"><span style="font-weight: bold; font-size: 170%; color: white">Apache CXF</span></a>
</td><td align="right" colspan="1" nowrap>
<a shape="rect" href="http://www.apache.org/" title="The Apache Sofware Foundation"><img border="0" alt="ASF Logo" src="http://cxf.apache.org/images/asf-logo.png"></a>
</td></tr></table></div></div>
      <!-- Banner -->
      <div id="top-menu">
        <table border="0" cellpadding="1" cellspacing="0" width="100%">
          <tr>
            <td>
              <div align="left">
                <!-- Breadcrumbs -->
<a href="index.html">Index</a>&nbsp;&gt;&nbsp;<a href="tools.html">Tools</a>&nbsp;&gt;&nbsp;<a href="cxf-tools-in-eclipse.html">CXF tools in Eclipse</a>&nbsp;&gt;&nbsp;<a href="cxfeclipseplugininstructions.html">CXF_Eclipse_Plugin_Instructions</a>
                <!-- Breadcrumbs -->
              </div>
            </td>
            <td>
              <div align="right">
                <!-- Quicklinks -->
<div id="quicklinks"><p><a shape="rect" href="http://cxf.apache.org/download.html">Download</a> | <a shape="rect" href="http://cxf.apache.org/docs/index.html">Documentation</a></p></div>
                <!-- Quicklinks -->
              </div>
            </td>
          </tr>
        </table>
      </div>
    </td>
    <td id="cell-1-3">&nbsp;</td>
    <td id="cell-1-4">&nbsp;</td>
  </tr>
  <tr>
    <td id="cell-2-0" colspan="2">&nbsp;</td>
    <td id="cell-2-1">
      <table>
        <tr valign="top">
          <td height="100%">
            <div id="wrapper-menu-page-right">
              <div id="wrapper-menu-page-top">
                <div id="wrapper-menu-page-bottom">
                  <div id="menu-page">
                    <!-- NavigationBar -->
<div id="navigation"><ul class="alternate"><li><a shape="rect" href="overview.html">Overview</a></li><li><a shape="rect" href="how-tos.html">How-Tos</a></li><li><a shape="rect" href="frontends.html">Frontends</a></li><li><a shape="rect" href="databindings.html">DataBindings</a></li><li><a shape="rect" href="transports.html">Transports</a></li><li><a shape="rect" href="configuration.html">Configuration</a></li><li><a shape="rect" href="debugging-and-logging.html">Debugging and Logging</a></li><li><a shape="rect" href="tools.html">Tools</a></li><li><a shape="rect" href="restful-services.html">RESTful Services</a></li><li><a shape="rect" href="wsdl-bindings.html">WSDL Bindings</a></li><li><a shape="rect" href="service-routing.html">Service Routing</a></li><li><a shape="rect" href="dynamic-languages.html">Dynamic Languages</a></li><li><a shape="rect" href="ws-support.html">WS-* Support</a></li><li><a shape="rect" href="advanced-integration.html">Advanced Integration</a></li><li><a shape="rect" href="deployment.html">Deployment</a></li><li><a shape="rect" href="schemas-and-namespaces.html">Use of Schemas and Namespaces</a></li></ul><hr><ul class="alternate"><li><p>Search</p></li></ul><form enctype="application/x-www-form-urlencoded" method="get" id="cse-search-box" action="http://www.google.com/cse">
  <div>
    <input type="hidden" name="cx" value="002890367768291051730:o99qiwa09y4">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="q" size="21">
    <input type="submit" name="sa" value="Search">
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script><hr><ul class="alternate"><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest/">API 3.2.x (Javadoc)</a></li><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest-3.1.x/">API 3.1.x (Javadoc)</a></li><li><a shape="rect" href="http://cxf.apache.org/">CXF Website</a></li></ul><p>&#160;</p><p><a shape="rect" class="external-link" href="http://www.apache.org/events/current-event.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="http://www.apache.org/events/current-event-125x125.png" data-image-src="http://www.apache.org/events/current-event-125x125.png"></span></a></p></div>
                    <!-- NavigationBar -->
                  </div>
              </div>
            </div>
          </div>
         </td>
         <td height="100%">
           <!-- Content -->
           <div class="wiki-content">
<div id="ConfluenceContent"><h1 id="CXF_Eclipse_Plugin_Instructions-WebServiceswithCXFandEclipse">Web Services with CXF and Eclipse</h1>

<div class="confluence-information-macro confluence-information-macro-warning"><p class="title">Watch Out!</p><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>This page is out of date, and there is a new approach to developing CXF services with Eclipse! We'll have the details up here as soon as possible.</p></div></div>

<h2 id="CXF_Eclipse_Plugin_Instructions-Introduction">Introduction</h2>

<p>These directions assume that you are familiar with <a shape="rect" class="external-link" href="http://help.eclipse.org/help33/index.jsp" rel="nofollow">using Eclipse</a>, that you know how to <a shape="rect" class="external-link" href="http://access1.sun.com/techarticles/simple.WAR.html" rel="nofollow">create a war file</a> and that you know <a shape="rect" class="external-link" href="http://www.developer.com/services/article.php/10928_1602051_1" rel="nofollow">how to create a WSDL</a>.</p>

<h2 id="CXF_Eclipse_Plugin_Instructions-Setup">Setup</h2>

<p>It is assumed that you have already downloaded and installed <a shape="rect" class="external-link" href="http://www.eclipse.org" rel="nofollow">Eclipse</a> with version 3.3 or higher.  You will also need to download and extract the <a shape="rect" class="external-link" href="http://incubator.apache.org/cxf/download.html">Apache CXF binary distribution</a> and <a shape="rect" class="external-link" href="http://tomcat.apache.org/download-60.cgi">Apache Tomcat</a> or your favorite web application server.</p>

<h3 id="CXF_Eclipse_Plugin_Instructions-UpdatingEclipse">Updating Eclipse</h3>

<p>You will need to install some extra plugins in eclipse for the Web Services in general, and the CXF Web Services specifically. You can easily download the <a shape="rect" class="external-link" href="http://www.eclipse.org/downloads/download.php?file=/stp/downloads/drops/R-R200710161054-200710161054/stp-all-in-one-incubation-R-R200710161054-200710161054.zip" rel="nofollow">all-in-one package</a> and extract it to your eclipse folder.<br clear="none">
Note: The downloaded package is not the latest version. The latest version of STP(SOA Tools Platform) plugin which integrates the new <a shape="rect" href="java-to-ws.html">java2ws tool</a> can only support CXF 2.1.* or higher.</p>

<h3 id="CXF_Eclipse_Plugin_Instructions-AddingCXFruntimeinEclipse">Adding CXF runtime in Eclipse</h3>

<p>Once you have all your uploads loaded, you'll need to link CXF as your <em>Installed runtime</em>.  Click <em>Windows/Preferences/SOA Tools/Installed Runtimes</em> to open an runtime configuration page. In this page click <em>Add</em> button and browse to your directory that contains Apache CXF, then click <em>OK</em>.</p>

<h3 id="CXF_Eclipse_Plugin_Instructions-AddingTomcatServerinEclipse">Adding Tomcat Server in Eclipse</h3>
<ul><li>Click <em>Window/Show View/Other.../Server/Servers</em> to open the server view.</li><li>In the server view, right click and select <em>New/Server/Apache/Tomcat v6.0 Server</em>. Click <em>next</em> button and browse to your directory that contains Tomcat, then click <em>Finish</em>.</li><li>Now, in the server view, there will be a new tomcat server. Double click the tomcat server to open the configuration page in <strong>Editor Part</strong>.</li><li>In the <strong>Server Locatiotn</strong> part of this configuration page, choose <strong>Use Tomcat installation (takes control of Tomcat installation)</strong> and modify the <strong>Deploy path</strong> from wtpwebapps to webapps.</li><li>There should be an project named <strong>Servers</strong> in <strong>Navigator View</strong>. Open the file <strong>catalina.properties</strong> of this project and add <em>(CXF_Install_Location)/lib/*.jar</em> to the property <em>shared.loader</em>.</li><li>All finished!</li></ul>


<h2 id="CXF_Eclipse_Plugin_Instructions-CreatingaProject">Creating a Project</h2>

<h3 id="CXF_Eclipse_Plugin_Instructions-JavaFirst(NotRecommended)">Java First (Not Recommended)</h3>

<p><strong>NOTE:</strong> Keep the default directory structure.  The automated system gets confused if you change it.</p>

<ul><li>Select File/New/Other/SOA Tools/JAX-WS Java First Project</li><li>Say yes when asked if you want to open the JAX-WS perspective</li><li>Create an interface for your service:
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>package com.cid.simpleservice.service

public interface ScientificCalculator {
   public float squareRoot( float value,float pow);
}
</pre>
</div></div></li></ul>


<ul><li>Annotate the interface:
	<ul><li>Right-click class in the <em>Outline View</em></li><li>Select <strong>JAX-WS Tools/Create Web Service</strong></li><li>Right-click your method(s) name(s) in the <em>Outline View</em></li><li>Select <strong>JAX-WS Tools/Create Web Method</strong></li></ul>
	</li><li>Save your file. If the <em>Project/Build Automatically</em> has been checked, you should see a new <em>wsdl</em> folder show up in your project directory structure as soon as you save it. Or you can also build your project manually to generate <em>wsdl</em> folder. Within the folder should be a WSDL based upon your interface.</li></ul>


<p>Now you'll need to make some modifications to the automatically generated comments.  </p>
<ul><li>Click on <em>@WebService</em>, which should be appearing above your interface name.  The <em>Annotation Properties</em> should appear<br clear="none">
in the box below your editing window.  If not, select Window/Show View/Other.  From the pop-up menu, select SOA Tools/@ Annotation Properties.</li><li>In the Annotation Properties, change javax.jws.soap.SOAPBinding from false to true.  This may require you to change other settings.  If so, check the CXF documentation for correct values.</li></ul>


<p>After your changes are made and save without any error, a WSDL should appear in the wsdl folder.  If it doesn't, use <strong>java2wsdl</strong> from the CXF package.  You can either run it from the <a shape="rect" href="java-to-wsdl.html">command prompt, as an ant task</a>, or <a shape="rect" href="using-cxf-with-maven.html">from Maven</a>.  The<br clear="none">
default output directory will be the <em>wsdl</em> directory.</p>

<p>After the WSDL is created, modify to meet your needs.  For example, the port is, by default <a shape="rect" class="external-link" href="http://localhost:9090/" rel="nofollow">http://localhost:9090/</a>.  In addition, leaving the parameter named <em>parameters</em> on the input request is not acceptable to .NET code creation routines.  </p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsdl:definitions name="ScientificCalculatorService" targetNamespace="http://service.simpleservice.cid.com/" 
xmlns:ns1="http://service.simpleservice.cid.com/" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" 
xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"&gt;
  &lt;wsdl:types&gt;
&lt;xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://service.simpleservice.cid.com/" 
attributeFormDefault="unqualified" elementFormDefault="unqualified" targetNamespace="http://service.simpleservice.cid.com/"&gt;
&lt;xsd:element name="squareRoot" type="squareRoot"/&gt;
&lt;xsd:complexType name="squareRoot"&gt;
&lt;xsd:sequence&gt;
&lt;xsd:element name="arg0" type="xsd:float"/&gt;
&lt;xsd:element name="arg1" type="xsd:float"/&gt;
&lt;/xsd:sequence&gt;
&lt;/xsd:complexType&gt;
&lt;xsd:element name="squareRootResponse" type="squareRootResponse"/&gt;
&lt;xsd:complexType name="squareRootResponse"&gt;
&lt;xsd:sequence&gt;
&lt;xsd:element name="return" type="xsd:float"/&gt;
&lt;/xsd:sequence&gt;
&lt;/xsd:complexType&gt;
&lt;/xsd:schema&gt;
  &lt;/wsdl:types&gt;
  &lt;wsdl:message name="squareRootResponse"&gt;
    &lt;wsdl:part name="squareRootOutput" element="ns1:squareRootResponse"&gt;
    &lt;/wsdl:part&gt;
  &lt;/wsdl:message&gt;
  &lt;wsdl:message name="squareRoot"&gt;
    &lt;wsdl:part name="squareRootInput" element="ns1:squareRoot"&gt;
    &lt;/wsdl:part&gt;
  &lt;/wsdl:message&gt;
  &lt;wsdl:portType name="ScientificCalculator"&gt;
    &lt;wsdl:operation name="squareRoot"&gt;
      &lt;wsdl:input name="squareRoot" message="ns1:squareRoot"&gt;
    &lt;/wsdl:input&gt;
      &lt;wsdl:output name="squareRootResponse" message="ns1:squareRootResponse"&gt;
    &lt;/wsdl:output&gt;
    &lt;/wsdl:operation&gt;
  &lt;/wsdl:portType&gt;
  &lt;wsdl:binding name="ScientificCalculatorServiceSoapBinding" type="ns1:ScientificCalculator"&gt;
    &lt;soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/&gt;
    &lt;wsdl:operation name="squareRoot"&gt;
      &lt;soap:operation soapAction="" style="document"/&gt;
      &lt;wsdl:input name="squareRoot"&gt;
        &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:input&gt;
      &lt;wsdl:output name="squareRootResponse"&gt;
        &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:output&gt;
    &lt;/wsdl:operation&gt;
  &lt;/wsdl:binding&gt;
  &lt;wsdl:service name="ScientificCalculatorService"&gt;
    &lt;wsdl:port name="ScientificCalculatorPort" binding="ns1:ScientificCalculatorServiceSoapBinding"&gt;
      &lt;soap:address location="http://localhost:8080/JavaFirstTest"/&gt;
    &lt;/wsdl:port&gt;
  &lt;/wsdl:service&gt;
&lt;/wsdl:definitions&gt;

</pre>
</div></div>


<p>Once your WSDL is set, use it to create your implementation class.  Highlight the WSDL and right-click.  Select <em>JAX-WS Tools/Generate Code</em>.  Select <em>Implementation</em> and, if you're using <strong>Ant</strong>, select <em>Generate Ant Script</em>.  If the <em>Impl</em> file isn't created, you can run <em>wsdl2java</em> using the <a shape="rect" href="wsdl-to-java.html">command line, Ant task or maven</a>.</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>
/**
 * Please modify this class to meet your needs
 * This class is not complete
 */

package com.cid.simpleservice.service;

import java.util.logging.Logger;
import javax.jws.WebMethod;
import javax.jws.WebResult;
import javax.xml.ws.RequestWrapper;
import javax.xml.ws.ResponseWrapper;


@javax.jws.WebService(name = "ScientificCalculator", serviceName = "ScientificCalculatorService",
                      portName = "ScientificCalculatorPort",
                      targetNamespace = "http://service.simpleservice.cid.com/", 
                      wsdlLocation = "file:wsdl/javaFirstTest.wsdl" ,
		      endpointInterface = "com.cid.simpleservice.service.ScientificCalculator")
                      
public class ScientificCalculatorImpl implements ScientificCalculator {

    private static final Logger LOG = Logger.getLogger(ScientificCalculatorImpl.class.getName());

    /* (non-Javadoc)
     * @see com.cid.simpleservice.service.ScientificCalculator#squareRoot(float  arg0 ,)float  arg1 )*
     */
    public float squareRoot(float arg0,float arg1) { 
        LOG.info("Executing operation squareRoot");
        System.out.println(arg0);
        System.out.println(arg1);
        try {
   
            float _return = 0.0f;
            return _return;
        } catch (Exception ex) {
            ex.printStackTrace();
            throw new RuntimeException(ex);
        }
    }

}

</pre>
</div></div>

<p><strong>Note:</strong> this last step is why it's suggested that you not use this process.  Using java2wsdl, then wsdl2java is not supported at this time by CXF.  And, as you've seen some of the automation doesn't work quite right.</p>

<p>Modify your Implementation class to reflect your actual methods.</p>

<h3 id="CXF_Eclipse_Plugin_Instructions-WSDLFirst">WSDL First</h3>

<p>Create your WSDL.  The syntax is beyond the scope of this wiki.  But there is a tool within Eclipse for creating one. Just select File/New/Other/Web Services/WSDL.  You can validate your WSDL by using <em>wsdl2java</em> with the <em>-validate</em> flag.</p>

<p>Create a new project: File/New/Project/SOA Tools/JAX-WS WSDL First Project.  Select your WSDL.  Select to create the Implementation and, if you wish, Generate Ant Script.  Leave everything checked as shown.  If the code isn't automatically generated, run <em>wsdl2java</em> to generate your code.</p>

<p>Modify your implementation classes to reflect your actual methods.</p>

<h2 id="CXF_Eclipse_Plugin_Instructions-DeployingProject">Deploying Project</h2>
<h3 id="CXF_Eclipse_Plugin_Instructions-BuildingPackage">Building Package</h3>
<p>Right click the WSDL file and select <em>Build Package...</em> in popup menu. Then an war file will be generated in the folder <em>build</em>.</p>
<h3 id="CXF_Eclipse_Plugin_Instructions-DeployingPackage">Deploying Package</h3>
<p>Right click the WSDL file or the war file and select <em>Deploy...</em> in popup menu. In the popup window, select Tomcat Server you just created above. Then click <em>OK</em>.</p>
<h3 id="CXF_Eclipse_Plugin_Instructions-StartingService">Starting Service</h3>
<p>Start the Tomcat Server in the Server View. If everything is OK, the service of your project should be activated. <br clear="none">
Once you deploy your war file, go to: http://&lt;your server&gt;:&lt;port&gt;/&lt;deployment name&gt;/services.  You'll see a link to your wsdl file.  Click on it and your wsdl should appear.</p></div>
           </div>
           <!-- Content -->
         </td>
        </tr>
      </table>
   </td>
   <td id="cell-2-2" colspan="2">&nbsp;</td>
  </tr>
  <tr>
   <td id="cell-3-0">&nbsp;</td>
   <td id="cell-3-1">&nbsp;</td>
   <td id="cell-3-2">
     <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
         <a href="http://cxf.apache.org/privacy-policy.html">Privacy Policy</a> - 
         (<a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=66453">edit page</a>) 
	 (<a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=66453&amp;showComments=true&amp;showCommentArea=true#addcomment">add comment</a>)<br>
	Apache CXF, CXF, Apache, the Apache feather logo are trademarks of The Apache Software Foundation.<br>
        All other marks mentioned may be trademarks or registered trademarks of their respective owners.
       </div>
       <!-- Footer -->
     </div>
   </td>
   <td id="cell-3-3">&nbsp;</td>
   <td id="cell-3-4">&nbsp;</td>
  </tr>
  <tr>
    <td id="cell-4-0" colspan="2">&nbsp;</td>
    <td id="cell-4-1">&nbsp;</td>
    <td id="cell-4-2" colspan="2">&nbsp;</td>
  </tr>
</table>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4458903-1");
pageTracker._trackPageview();
} catch(err) {}</script>

</body>
</html>

